### REPO SETUP ###

# dictionary (keys are repo names, values are base URLs)
instack_host_repos_baseurls:

# bash snippet
instack_host_repos_cmd:

# dictionary (keys are repo names, values are base URLs)
instack_uc_repos_baseurls:

# bash snippet
instack_uc_repos_cmd:


### TOOLS SETUP ###

tools_packages:
  - screen
  - tmux
  - vim


### HOST SETUP ###

# if set to an existing pool (e.g. 'default')
# then the pool location will not move
instack_host_libvirt_storage_pool: instack
instack_host_libvirt_storage_path: /home/vms-instack

instack_host_install_instack_undercloud_rpm: yes

instack_virt_setup_cmd: |
  export NODE_DIST=fedora
  source /usr/libexec/openstack-tripleo/devtest_variables.sh
  tripleo install-dependencies
  instack-virt-setup

instack_host_uc_http_port: 80
instack_host_uc_ssh_port: 2200


### UNDERCLOUD SETUP ###

instack_uc_install_instack_undercloud_rpm: yes

# can be a URL or a local path on the undercloud VM
# (when unset, default's to RPM's instack.answers.sample)
instack_answers_template_path: https://raw.githubusercontent.com/rdo-management/instack-undercloud/master/instack.answers.sample

# these key names translate directly to variable names in instack.answers,
# which means keeping them uppercase is important
instack_answers:
  DEPLOYMENT_MODE: scale

instack_install_undercloud_cmd: |
  instack-install-undercloud


### IMAGES SETUP ###

# Valid values are 'prebuilt' and 'build'
overcloud_images_source: prebuilt

# The path is relative to the playbooks directory. Absolute path works too.
prebuilt_overcloud_images_dir: ../overcloud-images

overcloud_images_build_cmd: |
  export NODE_DIST=fedora
  instack-build-images deploy-ramdisk
  instack-build-images discovery-ramdisk
  instack-build-images openstack-full


### OVERCLOUD PREPARATION ###

instack_prepare_for_overcloud_cmd: |
  source ./stackrc
  instack-prepare-for-overcloud


### STOPPING POINTS ###

# if you want to terminate the run early at a specified point, set the
# stopping_point to one of these values:
#   before_instack_virt_setup
#   after_instack_virt_setup
#   after_undercloud_forwarding
#   before_instack_install_undercloud
#   before_instack_build_images
#   before_instack_prepare_for_overcloud
stopping_point:
